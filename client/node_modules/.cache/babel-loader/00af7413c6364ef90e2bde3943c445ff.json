{"ast":null,"code":"import _slicedToArray from \"C:/Users/enliv/Desktop/appstack-react-2-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport useLocalStorage from \"./useLocalStorage\";\n\nfunction useSettingsState(key, initialValue) {\n  _s();\n\n  var _useLocalStorage = useLocalStorage(key, initialValue),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      value = _useLocalStorage2[0],\n      setValue = _useLocalStorage2[1];\n\n  useEffect(function () {\n    // Set data attribute on body element\n    document.body.dataset[key] = value; // Replace style sheet if dark theme gets toggled\n\n    if (key === \"theme\") {\n      var theme = value === \"dark\" ? \"dark\" : \"light\";\n      var stylesheet = document.querySelector(\".js-stylesheet\");\n      stylesheet.setAttribute(\"href\", \"/css/\".concat(theme, \".css\"));\n    }\n  }, [value, key]);\n  return [value, setValue];\n}\n\n_s(useSettingsState, \"9xQdYIk2Z1VL79v3zI5z2n9IgQA=\", false, function () {\n  return [useLocalStorage];\n});\n\nexport default useSettingsState;","map":{"version":3,"sources":["C:/Users/enliv/Desktop/appstack-react-2-master/src/hooks/useSettingsState.tsx"],"names":["useEffect","useLocalStorage","useSettingsState","key","initialValue","value","setValue","document","body","dataset","theme","stylesheet","querySelector","setAttribute"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAEA,SAASC,gBAAT,CAA0BC,GAA1B,EAA+BC,YAA/B,EAA6C;AAAA;;AAC5C,yBAA0BH,eAAe,CAACE,GAAD,EAAMC,YAAN,CAAzC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEAN,EAAAA,SAAS,CAAC,YAAM;AACf;AACAO,IAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsBN,GAAtB,IAA6BE,KAA7B,CAFe,CAIf;;AACA,QAAIF,GAAG,KAAK,OAAZ,EAAqB;AACpB,UAAMO,KAAK,GAAGL,KAAK,KAAK,MAAV,GAAmB,MAAnB,GAA4B,OAA1C;AACA,UAAMM,UAAU,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,gBAAvB,CAAnB;AACAD,MAAAA,UAAU,CAACE,YAAX,CAAwB,MAAxB,iBAAwCH,KAAxC;AACA;AACD,GAVQ,EAUN,CAACL,KAAD,EAAQF,GAAR,CAVM,CAAT;AAYA,SAAO,CAACE,KAAD,EAAQC,QAAR,CAAP;AACA;;GAhBQJ,gB;UACkBD,e;;;AAiB3B,eAAeC,gBAAf","sourcesContent":["import { useEffect } from \"react\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nfunction useSettingsState(key, initialValue) {\r\n\tconst [value, setValue] = useLocalStorage(key, initialValue);\r\n\r\n\tuseEffect(() => {\r\n\t\t// Set data attribute on body element\r\n\t\tdocument.body.dataset[key] = value;\r\n\r\n\t\t// Replace style sheet if dark theme gets toggled\r\n\t\tif (key === \"theme\") {\r\n\t\t\tconst theme = value === \"dark\" ? \"dark\" : \"light\";\r\n\t\t\tconst stylesheet = document.querySelector(\".js-stylesheet\");\r\n\t\t\tstylesheet.setAttribute(\"href\", `/css/${theme}.css`);\r\n\t\t}\r\n\t}, [value, key]);\r\n\r\n\treturn [value, setValue];\r\n}\r\n\r\nexport default useSettingsState;\r\n"]},"metadata":{},"sourceType":"module"}